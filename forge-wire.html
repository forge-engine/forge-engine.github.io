<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forge Kernel - ForgeWire</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/docs.css">
</head>

<body class="bg-gray-50 text-gray-900">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-gray-900">
                            Forge Kernel
                        </h1>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="index.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Home
                        </a>
                        <a href="getting-started.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Getting Started
                        </a>
                        <a href="core-concepts.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Core Concepts
                        </a>
                        <a href="modules.html"
                            class="text-blue-600 inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 border-blue-600">
                            Capabilities
                        </a>
                        <a href="api-reference.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            API Reference
                        </a>
                        <a href="tutorial.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Tutorials
                        </a>
                    </div>
                </div>
                <div class="flex items-center sm:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-blue-600 p-2">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="sm:hidden hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Home</a>
                <a href="getting-started.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Getting
                    Started</a>
                <a href="core-concepts.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Core Concepts</a>
                <a href="modules.html" class="block px-3 py-2 text-blue-600 font-medium">Capabilities</a>
                <a href="api-reference.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">API Reference</a>
                <a href="tutorial.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Tutorials</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Sidebar Navigation -->
            <div id="sidebar-nav" class="lg:w-1/4">
                <div class="bg-white rounded-lg shadow-sm p-6 sticky top-8">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ForgeWire</h3>
                    <nav class="space-y-2">
                        <a href="#overview"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Overview</a>
                        <a href="#architecture"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Architecture
                            & Design</a>
                        <a href="#installation"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Installation</a>
                        <a href="#asset-management"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Asset
                            Management</a>
                        <a href="#basic-usage"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Basic
                            Usage</a>
                        <a href="#component-structure"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Component
                            Structure</a>
                        <a href="#attributes"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Attributes
                            System</a>
                        <a href="#security"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Security
                            Features</a>
                        <a href="#state-management"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">State
                            Management</a>
                        <a href="#complex-data"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Complex
                            Data Types</a>
                        <a href="#actions"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Actions
                            & Methods</a>
                        <a href="#computed"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Computed
                            Properties</a>
                        <a href="#validation"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Validation</a>
                        <a href="#frontend"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Frontend
                            Integration</a>
                        <a href="#wire-protocol"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Wire
                            Protocol</a>
                        <a href="#performance"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Performance</a>
                        <a href="#vs-livewire"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Differences
                            from Livewire</a>
                        <a href="#examples"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Usage
                            Examples</a>
                        <a href="#best-practices"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Best
                            Practices</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="lg:w-3/4">
                <div class="bg-white rounded-lg shadow-sm p-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-6">ForgeWire</h1>
                    <p class="text-xl text-gray-600 mb-8">
                        Lightweight Livewire-like reactive components for Forge Kernel. Build dynamic interfaces with
                        server-side interactivity, security by default, and support for complex data types.
                    </p>

                    <!-- Overview -->
                    <section id="overview" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Overview</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire provides Livewire-like reactivity for <strong>standard Controllers</strong>. It
                            enables server-side interactivity without WebSockets, JavaScript frameworks, or complex
                            client-side state management. Unlike other frameworks, you don't need to create separate
                            "component classes" — any controller can become reactive with simple attributes.
                        </p>

                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                            <h2 class="font-semibold text-lg mb-4 text-blue-900">ForgeWire Power, Standard Controller
                                Simplicity</h2>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>No separate component classes
                                            needed</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Reactive standard Controllers
                                            (#[Reactive])</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Security by default (explicit
                                            attributes)</span></div>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Session-based state with signed
                                            checksums</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Native support for DTOs and
                                            Models</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Ultra-lightweight JS
                                            client</span></div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Architecture & Design -->
                    <section id="architecture" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Architecture & Design Philosophy</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire transforms the standard request-response cycle into a persistent, reactive loop.
                            It achieves this by intercepting requests and re-rendering specific view fragments based on
                            the updated state of your controller.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">The Anatomy of a Reactive Controller</h3>
                        <p class="text-gray-600 mb-4">
                            When a controller is marked with <code
                                class="bg-gray-100 px-2 py-1 rounded">#[Reactive]</code>, ForgeWire manages its
                            lifecycle:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>State Hydration:</strong> Upon an action, ForgeWire restores the controller's
                                properties from the session state.</li>
                            <li><strong>Action Execution:</strong> The requested method is called with arguments
                                provided by the frontend.</li>
                            <li><strong>View Re-rendering:</strong> After the action, the controller's primary view is
                                re-rendered with the updated state and sent back to the client.</li>
                            <li><strong>Checksum Security:</strong> Every state transfer is signed. Tampering with state
                                or calling unauthorized methods is impossible.</li>
                        </ul>
                    </section>

                    <!-- Basic Usage -->
                    <section id="basic-usage" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Basic Usage</h2>
                        <p class="text-gray-600 mb-6">
                            Creating a reactive feature requires three steps: mark the controller, mark the state, and
                            wrap the view.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">1. The Controller</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Reactive]
#[Service]
class CounterController
{
    use ControllerHelper;

    #[State]
    public int $count = 0;

    #[Route("/counter")]
    public function index(): Response
    {
        return $this->view("pages/counter", ['count' => $this->count]);
    }

    #[Action]
    public function increment(): void
    {
        $this->count++;
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">2. The View</h3>
                        <p class="text-gray-600 mb-4">
                            Crucially, you must use the <code class="bg-gray-100 px-2 py-1 rounded">fw_id()</code>
                            helper on the root element of your reactive area. This tells the JS client where to track
                            changes.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">&lt;!-- resources/views/pages/counter.php --&gt;
&lt;div &lt;?= fw_id() ?&gt; class="counter-box"&gt;
    &lt;h1&gt;Count: &lt;?= $count ?&gt;&lt;/h1&gt;
    
    &lt;button fw:click="increment"&gt;Add One&lt;/button&gt;
&lt;/div&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Attributes System -->
                    <section id="attributes" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Attributes System</h2>

                        <h3 class="text-lg font-semibold mb-3">#[Reactive]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to the class. Enables ForgeWire to monitor this controller. Controllers without this
                            attribute are ignored by the reactive engine for security.
                        </p>
                    </section>

                    <section id="state-management" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">State Management</h2>
                        <h3 class="text-lg font-semibold mb-3">#[State]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to public properties. Tells ForgeWire to persist this value between requests in the
                            session. Supports scalars (int, string, bool) and arrays.
                        </p>
                    </section>

                    <section id="complex-data" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Complex Data Types</h2>
                        <h3 class="text-lg font-semibold mb-3">#[Model] & #[DTO]</h3>
                        <p class="text-gray-600 mb-4">
                            Use these for complex data types. ForgeWire will handle the serialization/unserialization
                            automatically.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Model(User::class)]
public ?User $user;

#[DTO(SearchCriteria::class)]
public SearchCriteria $criteria;</code></pre>
                        </div>
                    </section>

                    <!-- Frontend Directives -->
                    <section id="directives" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Frontend Directives</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire uses HTML attributes (directives) to bind your UI to your controller.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Binding Data: fw:model</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model="name"</code> - Immediate binding
                                (updates on every keystroke)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce="name"</code> - Updates
                                after 600ms of inactivity</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.defer="name"</code> - Updates only
                                when an action is triggered</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Handling Events</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:click="save"</code> - Call action on
                                click</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:submit="create"</code> - Call action on
                                form submit (auto-prevents refresh)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:keydown.enter="search"</code> - Call
                                action on Enter key</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Passing Arguments: fw:param-*</h3>
                        <p class="text-gray-600 mb-4">
                            To pass data to an action, use the <code
                                class="bg-gray-100 px-2 py-1 rounded">fw:param-</code> prefix.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- Controller: public function delete(int $id) --&gt;
&lt;button fw:click="delete" fw:param-id="123"&gt;Delete Post&lt;/button&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Security -->
                    <section id="security" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Security: The Sandbox</h2>
                        <p class="text-gray-600 mb-4">
                            ForgeWire operates on a "deny-by-default" principle:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Checksum signing:</strong> All state sent to the browser is HMAC-signed with
                                your <code class="bg-gray-100 px-2 py-1 rounded">APP_KEY</code>. If a user modifies the
                                state in the console, the server rejects the request.</li>
                            <li><strong>Method Whitelisting:</strong> Only <code
                                    class="bg-gray-100 px-2 py-1 rounded">#[Action]</code> methods can be invoked. Even
                                protected/private methods are strictly blocked.</li>
                            <li><strong>Fingerprinting:</strong> ForgeWire tracks the controller class and current URL
                                path to prevent "component injection" or cross-page state reuse.</li>
                        </ul>
                    </section>
                    <section id="actions" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Actions & Methods</h2>
                        <h3 class="text-lg font-semibold mb-3">The #[Action] Attribute</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to methods. Marks the method as "safe" to be called from the browser. ForgeWire will
                            refuse to call any method not explicitly marked as an action.
                        </p>
                        <p class="text-gray-600 mb-4">
                            The <code class="bg-gray-100 px-2 py-1 rounded">input()</code> action is built-in and
                            handles
                            <code>fw:model</code> updates:
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">// Automatically called for fw:model
#[Action]
public function input(...$keys): void
{
    // Called when fw:model values change
    // $keys contains which properties changed
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Calling Actions from Frontend</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- fw:click --&gt;
&lt;button fw:click="increment"&gt;+&lt;/button&gt;
&lt;button fw:click="update" fw:param-id="5" fw:param-name="New Name"&gt;Update&lt;/button&gt;

&lt;!-- fw:submit --&gt;
&lt;form fw:submit="save"&gt;
    &lt;input fw:model="name" type="text"&gt;
    &lt;button type="submit"&gt;Save&lt;/button&gt;
&lt;/form&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Computed Properties -->
                    <section id="computed" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Computed Properties</h2>
                        <p class="text-gray-600 mb-6">
                            Use #[Computed] for derived values that are cached.
                        </p>

                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Computed]
public function parity(): string
{
    return $this->count % 2 ? 'odd' : 'even';
}

public function render(): string
{
    return raw($this->view('wire/counter', [
        'count' => $this->count,
        'parity' => $this->parity(), // Cached
    ]));
}</code></pre>
                        </div>
                    </section>

                    <!-- Validation -->
                    <section id="validation" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Validation</h2>
                        <p class="text-gray-600 mb-6">
                            Add validation rules to properties using #[Validate] attribute.
                        </p>

                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">use App\Modules\ForgeWire\Attributes\Validate;

#[State]
#[Validate(rules: 'required|min:3')]
public string $name = '';

#[State]
#[Validate(
    rules: 'required|email',
    messages: '{"required": "Email is required", "email": "Invalid email"}'
)]
public string $email = '';</code></pre>
                        </div>
                        <p class="text-gray-600 mb-4">
                            Validation runs automatically when dirty state includes the property.
                        </p>
                    </section>

                    <section id="frontend" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Frontend Integration</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire's JavaScript client handles all frontend interactions automatically.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Directives Reference</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:click="save"</code> — Call action on
                                click (use <code>fw:param-*</code> for arguments)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model="property"</code> — Two-way
                                binding (immediate)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.lazy</code> — Update on
                                blur/change</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce</code> — Debounced
                                updates (600ms default)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce.300ms</code> — Custom
                                debounce time</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:submit="save"</code> — Form
                                submission (auto-prevents refresh)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:poll</code> — Auto-refresh every 2
                                seconds</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:poll.5s</code> — Custom poll interval
                            </li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Example HTML</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div fw:id="fw-0b4c5e3d9e83" &gt;
    &lt;div class="counter"&gt;
        &lt;button fw:click="decrement"&gt;–&lt;/button&gt;
        &lt;span&gt;2 (even)&lt;/span&gt;
        &lt;button fw:click="increment"&gt;+&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Polling with IntersectionObserver</h3>
                        <p class="text-gray-600 mb-4">
                            Components only poll when visible on screen (performance optimization):
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div fw:id="..." fw:poll.5s&gt;
    &lt;!-- Only polls when visible --&gt;
&lt;/div&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Wire Protocol -->
                    <section id="wire-protocol" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Wire Protocol</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire uses a JSON-based protocol for client-server communication.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Request Format</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-json">{
  "id": "fw-0b4c5e3d9e83",
  "controller": "App\\Components\\Wire\\Counter",
  "action": "increment",
  "args": [],
  "dirty": {},
  "checksum": "632b5d500042bb4361657ea9f2991132d8a18208d0e38bf6a801f127f48f4e8c",
  "fingerprint": {
    "path": "/"
  }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Response Format</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-json">{
  "html": "&lt;div fw:id=\"fw-0b4c5e3d9e83\"...&gt;...&lt;/div&gt;",
  "state": {},
  "checksum": "632b5d500042bb4361657ea9f2991132d8a18208d0e38bf6a801f127f48f4e8c",
  "events": [],
  "redirect": null,
  "flash": []
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Checksum Calculation</h3>
                        <p class="text-gray-600 mb-4">
                            Checksum is HMAC-SHA256 of canonicalized JSON containing:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Component class name</li>
                            <li>Current path</li>
                            <li>Session ID</li>
                            <li>State bag (scalar values)</li>
                            <li>Models bag (references)</li>
                            <li>DTOs bag (arrays)</li>
                        </ul>
                    </section>

                    <!-- Performance -->
                    <section id="performance" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Performance Optimizations</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire includes several performance optimizations.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Recipe Caching</h3>
                        <p class="text-gray-600 mb-4">
                            Component recipes are built once per class and cached in memory:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>No repeated reflection on every request</li>
                            <li>Recipe defines hydration/dehydration strategy</li>
                            <li>Cached in static array: <code
                                    class="bg-gray-100 px-2 py-1 rounded">self::$recipe[$class]</code></li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Lazy Model Loading</h3>
                        <p class="text-gray-600 mb-4">
                            Models are stored as references, not fully serialized:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Stored as: <code
                                    class="bg-gray-100 px-2 py-1 rounded">[RepositoryClass, idField, id]</code></li>
                            <li>Loaded from database only when needed</li>
                            <li>More efficient than full serialization</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">IntersectionObserver Polling</h3>
                        <p class="text-gray-600 mb-4">
                            Components only poll when visible on screen:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Uses browser IntersectionObserver API</li>
                            <li>Stops polling when component is off-screen</li>
                            <li>Resumes automatically when visible again</li>
                            <li>Saves server resources</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Request Prioritization</h3>
                        <p class="text-gray-600 mb-4">
                            Input events have lower priority than actions:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Actions (priority 2) can cancel input requests (priority 1)</li>
                            <li>Prevents race conditions</li>
                            <li>Ensures actions execute first</li>
                        </ul>
                    </section>

                    <!-- Differences from Livewire -->
                    <section id="vs-livewire" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Differences from Livewire</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire takes a different approach than Laravel Livewire in several key areas.
                        </p>

                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Security</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Explicit attributes
                                    required (#[State], #[Action])</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> All public properties
                                    accessible</p>
                                <p class="text-xs text-gray-500">ForgeWire is secure by default</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Complex Data</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Native DTO/Model
                                    support</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Serialization-based</p>
                                <p class="text-xs text-gray-500">ForgeWire handles complex objects natively</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">State Storage</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Session-based with
                                    references</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Full serialization</p>
                                <p class="text-xs text-gray-500">ForgeWire is more efficient</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Performance</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Recipe caching, lazy
                                    loading</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Reflection on every
                                    request</p>
                                <p class="text-xs text-gray-500">ForgeWire caches component recipes</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Protocol</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Custom JSON protocol
                                </p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Different format</p>
                                <p class="text-xs text-gray-500">Optimized for Forge's architecture</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Checksum</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Built-in tamper
                                    detection</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Different verification
                                </p>
                                <p class="text-xs text-gray-500">ForgeWire verifies every request</p>
                            </div>
                        </div>
                    </section>

                    <!-- Usage Examples -->
                    <section id="examples" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Usage Examples</h2>
                        <p class="text-gray-600 mb-6">
                            Complete examples of ForgeWire components.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Simple Counter</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Reactive]
final class CounterController
{
    use ControllerHelper;

    #[State]
    public int $count = 0;

    #[Route("/counter")]
    public function index(): Response
    {
        return $this->view('pages/counter', [
            'count' => $this->count,
            'parity' => $this->count % 2 ? 'odd' : 'even',
        ]);
    }

    #[Action]
    public function increment(): void
    {
        $this->count++;
    }

    #[Action]
    public function decrement(): void
    {
        $this->count--;
    }

    #[Computed]
    public function parity(): string
    {
        return $this->count % 2 ? 'odd' : 'even';
    }

    public function render(): string
    {
        return raw($this->view('wire/counter', [
            'count' => $this->count,
            'parity' => $this->parity(),
        ]));
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Component with Service</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">final class ProductSearch extends WireComponent
{
    #[State]
    public string $query = '';

    #[Service(ProductService::class)]
    public ProductService $products;

    #[Action]
    public function input(): void
    {
        // Called when query changes
        $results = $this->products->list($this->query);
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Component with DTO</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">final class SignupWizard extends WireComponent
{
    #[DTO(SignupDTO::class)]
    public SignupDTO $form;

    #[Service(SignupService::class)]
    public SignupService $signup;

    #[Action]
    public function submit(): void
    {
        $id = $this->signup->register($this->form);
    }
}</code></pre>
                        </div>
                    </section>

                    <!-- Best Practices -->
                    <section id="best-practices" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Best Practices</h2>
                        <p class="text-gray-600 mb-6">
                            Recommendations for using ForgeWire effectively.
                        </p>

                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3 text-green-600">Things That Often Help</h3>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li>• Use #[State] for simple scalar/array values</li>
                                    <li>• Use #[DTO] for complex form data</li>
                                    <li>• Use #[Model] for database entities</li>
                                    <li>• Use #[Service] for dependency injection</li>
                                    <li>• Keep components focused and single-purpose</li>
                                    <li>• Use computed properties for derived values</li>
                                    <li>• Leverage fw:model.debounce for search inputs</li>
                                    <li>• Use fw:poll sparingly (only when needed)</li>
                                </ul>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3 text-orange-600">Things to Consider</h3>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li>• Don't expose sensitive data without attributes</li>
                                    <li>• Don't use complex objects with #[State]</li>
                                    <li>• Don't forget #[Action] on callable methods</li>
                                    <li>• Don't pass arrays/objects to action methods</li>
                                    <li>• Don't poll too frequently (performance impact)</li>
                                    <li>• Don't store large amounts of state in session</li>
                                    <li>• Don't forget to implement toArray()/fromArray() for DTOs</li>
                                    <li>• Don't skip validation for user input</li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">When to Use State vs DTO vs Model</h3>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                            <ul class="space-y-2 text-sm text-gray-600">
                                <li>• <strong>#[State]:</strong> Simple values (strings, numbers, arrays) that change
                                    frequently</li>
                                <li>• <strong>#[DTO]:</strong> Complex form data with multiple related fields</li>
                                <li>• <strong>#[Model]:</strong> Database entities that need to be loaded/saved</li>
                                <li>• <strong>#[Service]:</strong> Business logic services, repositories, external APIs
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-4">
                <span class="text-lg font-bold">Forge Kernel</span>
            </div>
            <p class="text-gray-400">
                A toolbox for builders who like to do things their way.
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', function () {
                mobileMenu.classList.toggle('hidden');
            });
        }

        window.addEventListener('scroll', function () {
            const sections = document.querySelectorAll('.section-anchor');
            const navLinks = document.querySelectorAll('.nav-link');
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.pageYOffset >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>