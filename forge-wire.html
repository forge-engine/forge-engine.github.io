<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forge Kernel - ForgeWire</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/docs.css">
</head>

<body class="bg-gray-50 text-gray-900">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-gray-900">
                            Forge Kernel
                        </h1>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="index.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Home
                        </a>
                        <a href="getting-started.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Getting Started
                        </a>
                        <a href="core-concepts.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Core Concepts
                        </a>
                        <a href="modules.html"
                            class="text-blue-600 inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 border-blue-600">
                            Capabilities
                        </a>
                        <a href="api-reference.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            API Reference
                        </a>
                        <a href="tutorial.html"
                            class="text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium hover:text-blue-600">
                            Tutorials
                        </a>
                    </div>
                </div>
                <div class="flex items-center sm:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-blue-600 p-2">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="sm:hidden hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Home</a>
                <a href="getting-started.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Getting
                    Started</a>
                <a href="core-concepts.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Core Concepts</a>
                <a href="modules.html" class="block px-3 py-2 text-blue-600 font-medium">Capabilities</a>
                <a href="api-reference.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">API Reference</a>
                <a href="tutorial.html" class="block px-3 py-2 text-gray-900 hover:text-blue-600">Tutorials</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Sidebar Navigation -->
            <div id="sidebar-nav" class="lg:w-1/4">
                <div class="bg-white rounded-lg shadow-sm p-6 sticky top-8">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ForgeWire</h3>
                    <nav class="space-y-2">
                        <a href="#overview"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Overview</a>
                        <a href="#architecture"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Architecture
                            & Design</a>
                        <a href="#installation"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Installation</a>
                        <a href="#asset-management"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Asset
                            Management</a>
                        <a href="#basic-usage"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Basic
                            Usage</a>
                        <a href="#component-structure"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Component
                            Structure</a>
                        <a href="#attributes"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Attributes
                            System</a>
                        <a href="#security"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Security
                            Features</a>
                        <a href="#state-management"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">State
                            Management</a>
                        <a href="#complex-data"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Complex
                            Data Types</a>
                        <a href="#actions"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Actions
                            & Methods</a>
                        <a href="#computed"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Computed
                            Properties</a>
                         <a href="#validation"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Validation</a>
                         <a href="#frontend"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Frontend
                             Integration</a>
                         <a href="#architecture-features"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Architecture
                             & Features</a>
                         <a href="#wire-protocol"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Wire
                             Protocol</a>
                         <a href="#performance"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Performance
                             Optimizations</a>
                         <a href="#cli-commands"
                             class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">CLI
                             Commands</a>
                        <a href="#wire-protocol"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Wire
                            Protocol</a>
                        <a href="#performance"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Performance</a>
                        <a href="#vs-livewire"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Differences
                            from Livewire</a>
                        <a href="#examples"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Usage
                            Examples</a>
                        <a href="#best-practices"
                            class="nav-link block px-3 py-2 text-sm text-gray-700 rounded-md hover:text-blue-600">Best
                            Practices</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="lg:w-3/4">
                <div class="bg-white rounded-lg shadow-sm p-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-6">ForgeWire</h1>
                    <p class="text-xl text-gray-600 mb-8">
                        Lightweight Livewire-like reactive components for Forge Kernel. Build dynamic interfaces with
                        server-side interactivity, security by default, and support for complex data types.
                    </p>

                    <!-- Overview -->
                    <section id="overview" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Overview</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire provides Livewire-like reactivity for <strong>standard Controllers</strong>. It
                            enables server-side interactivity without WebSockets, JavaScript frameworks, or complex
                            client-side state management. Unlike other frameworks, you don't need to create separate
                            "component classes" — any controller can become reactive with simple attributes.
                        </p>

                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                            <h2 class="font-semibold text-lg mb-4 text-blue-900">ForgeWire Power, Standard Controller
                                Simplicity</h2>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>No separate component classes
                                            needed</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Reactive standard Controllers
                                            (#[Reactive])</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Security by default (explicit
                                            attributes)</span></div>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Session-based state with signed
                                            checksums</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Native support for DTOs and
                                            Models</span></div>
                                    <div class="flex items-center text-blue-800"><i
                                            class="fas fa-check-circle mr-2"></i><span>Ultra-lightweight JS
                                            client</span></div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Architecture & Design -->
                    <section id="architecture" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Architecture & Design Philosophy</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire transforms the standard request-response cycle into a persistent, reactive loop.
                            It achieves this by intercepting requests and re-rendering specific view fragments based on
                            the updated state of your controller.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">The Anatomy of a Reactive Controller</h3>
                        <p class="text-gray-600 mb-4">
                            When a controller is marked with <code
                                class="bg-gray-100 px-2 py-1 rounded">#[Reactive]</code>, ForgeWire manages its
                            lifecycle:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>State Hydration:</strong> Upon an action, ForgeWire restores the controller's
                                properties from the session state.</li>
                            <li><strong>Action Execution:</strong> The requested method is called with arguments
                                provided by the frontend.</li>
                            <li><strong>View Re-rendering:</strong> After the action, the controller's primary view is
                                re-rendered with the updated state and sent back to the client.</li>
                            <li><strong>Checksum Security:</strong> Every state transfer is signed. Tampering with state
                                or calling unauthorized methods is impossible.</li>
                        </ul>
                    </section>

                    <!-- Basic Usage -->
                    <section id="basic-usage" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Basic Usage</h2>
                        <p class="text-gray-600 mb-6">
                            Creating a reactive feature requires three steps: mark the controller, mark the state, and
                            wrap the view with island identifiers.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">1. The Controller</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Middleware("web")]
#[Reactive]
final class CounterController
{
    use ControllerHelper;

    #[State]
    public int $count = 0;

    #[Route("/counter")]
    public function index(): Response
    {
        return $this->view("pages/counter", ['count' => $this->count]);
    }

    #[Action]
    public function increment(): void
    {
        $this->count++;
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">2. The View with Islands</h3>
                        <p class="text-gray-600 mb-4">
                            Use the <code class="bg-gray-100 px-2 py-1 rounded">fw_id()</code> helper to create island boundaries. Each island can have its own reactive area, and you can have multiple islands per page.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">&lt;!-- resources/views/pages/counter.php --&gt;
&lt;div &lt;?= fw_id('main-counter') ?&gt; class="counter-box"&gt;
    &lt;h1&gt;Count: &lt;?= $count ?&gt;&lt;/h1&gt;
    
    &lt;button fw:click="increment"&gt;Add One&lt;/button&gt;
    &lt;div fw:target&gt;Result: &lt;?= $count ?&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Another island on same page --&gt;
&lt;div &lt;?= fw_id('info-panel') ?&gt; class="info-box"&gt;
    &lt;p fw:poll.5s&gt;Updated at: &lt;?= date('H:i:s') ?&gt;&lt;/p&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">3. Island Architecture Benefits</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Multiple Islands:</strong> Create independent reactive areas on the same page</li>
                            <li><strong>Targeted Updates:</strong> Use <code class="bg-gray-100 px-2 py-1 rounded">fw:target</code> for efficient partial updates</li>
                            <li><strong>Shared State:</strong> Islands can share state using <code class="bg-gray-100 px-2 py-1 rounded">#[State(shared: true)]</code></li>
                            <li><strong>Independent Polling:</strong> Each island can have its own polling interval</li>
                        </ul>
                    </section>

                    <!-- Attributes System -->
                    <section id="attributes" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Attributes System</h2>

                        <h3 class="text-lg font-semibold mb-3">#[Reactive]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to the class. Enables ForgeWire to monitor this controller. Controllers without this
                            attribute are ignored by the reactive engine for security.
                        </p>
                        
                        <h3 class="text-lg font-semibold mb-3">#[Action(submit: bool)]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to methods. Marks the method as callable from browser. The optional <code class="bg-gray-100 px-2 py-1 rounded">submit</code> parameter indicates this action handles form submissions.
                        </p>
                        
                        <h3 class="text-lg font-semibold mb-3">#[Computed]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to methods. Marks method as computed property that gets cached between requests. Useful for derived values that don't change frequently.
                        </p>
                    </section>

                    <section id="state-management" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">State Management</h2>
                        <h3 class="text-lg font-semibold mb-3">#[State]</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to public properties. Tells ForgeWire to persist this value between requests in
                            session. Supports scalars (int, string, bool) and arrays.
                        </p>
                        
                        <h3 class="text-lg font-semibold mb-3">Shared State Across Islands</h3>
                        <p class="text-gray-600 mb-4">
                            Use <code class="bg-gray-100 px-2 py-1 rounded">#[State(shared: true)]</code> to share state across multiple islands on the same page. Islands must opt-in to shared dependencies using <code class="bg-gray-100 px-2 py-1 rounded">fw:depends</code> or be wrapped in <code class="bg-gray-100 px-2 py-1 rounded">fw:shared</code>.
                        </p>
                        
                        <h4 class="text-md font-semibold mb-3 mt-4">Opt-in Methods for Shared State</h4>
                        
                        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                            <p class="text-sm text-yellow-800 mb-2">
                                <strong>⚠️ Important:</strong> Islands <strong>must</strong> opt-in to shared state dependencies. Without fw:depends or fw:shared, islands will not receive shared state updates even if marked with #[State(shared: true)].
                            </p>
                        </div>
                        
                        <h5 class="text-sm font-semibold mb-2">Method 1: Individual Dependencies with fw:depends</h5>
                        <div class="code-block p-6 text-white rounded-lg mb-4">
                            <pre><code class="language-php">// Controller
#[State(shared: true)]
public int $counter = 0;</code></pre>
                        </div>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- View - Island depends on specific shared state --&gt;
&lt;div fw:shared&gt;
    &lt;div &lt;?= fw_id('todo-app') ?&gt; fw:depends="counter"&gt;
        &lt;h1&gt;Reactive Todo List counter: &lt;?= $counter ?&gt;&lt;/h1&gt;
        &lt;!-- Content that uses $counter --&gt;
    &lt;/div&gt;
    
    &lt;div &lt;?= fw_id('counter-app') ?&gt; fw:depends="counter"&gt;
        &lt;h1&gt;Counter&lt;/h1&gt;
        &lt;button fw:click="increment"&gt;Increment&lt;/button&gt;
        &lt;div&gt;&lt;?= $counter ?&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>
                        
                        <h5 class="text-sm font-semibold mb-2">Method 2: Shared Group with fw:shared</h5>
                        <div class="code-block p-6 text-white rounded-lg mb-4">
                            <pre><code class="language-php">// Controller
#[State(shared: true)]
public array $jobs = [];</code></pre>
                        </div>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- View - All islands in fw:shared container share state --&gt;
&lt;div fw:shared&gt;
    &lt;!-- Stats island --&gt;
    &lt;div &lt;?= fw_id('queue-stats') ?&gt; fw:depends="jobs"&gt;
        &lt;h2&gt;Statistics&lt;/h2&gt;
        &lt;p fw:target&gt;Total Jobs: &lt;?= count($jobs) ?&gt;&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;!-- Table island --&gt;
    &lt;div &lt;?= fw_id('queue-table') ?&gt;&gt;
        &lt;!-- Will automatically receive jobs updates --&gt;
        &lt;table&gt;
            &lt;?php foreach ($jobs as $job): ?&gt;
                &lt;tr&gt;&lt;td&gt;&lt;?= $job['id'] ?&gt;&lt;/td&gt;&lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/table&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                            <p class="text-sm text-blue-800">
                                <strong>Use Cases:</strong> Perfect for shopping carts, user notifications, queue dashboards, or any data that needs to stay synchronized across different components on same page.
                            </p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                            <p class="text-sm text-blue-800">
                                <strong>Use Case:</strong> Perfect for shopping carts, user notifications, or any data that needs to stay synchronized across different components on the same page.
                            </p>
                        </div>
                    </section>

                    <section id="complex-data" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Complex Data Types</h2>
                        <h3 class="text-lg font-semibold mb-3">#[Model] & #[DTO]</h3>
                        <p class="text-gray-600 mb-4">
                            Use these for complex data types. ForgeWire will handle the serialization/unserialization
                            automatically.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Model(User::class)]
public ?User $user;

#[DTO(SearchCriteria::class)]
public SearchCriteria $criteria;</code></pre>
                        </div>
                    </section>

                    <!-- Frontend Directives -->
                    <section id="directives" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Frontend Directives</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire uses HTML attributes (directives) to bind your UI to your controller.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Binding Data: fw:model</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model="name"</code> - Immediate binding
                                (updates on every keystroke)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce="name"</code> - Updates
                                after 600ms of inactivity</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.defer="name"</code> - Updates only
                                when an action is triggered</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Handling Events</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:click="save"</code> - Call action on
                                click</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:submit="create"</code> - Call action on
                                form submit (auto-prevents refresh)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:keydown.enter="search"</code> - Call
                                action on Enter key</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Passing Arguments: fw:param-*</h3>
                        <p class="text-gray-600 mb-4">
                            To pass data to an action, use the <code
                                class="bg-gray-100 px-2 py-1 rounded">fw:param-</code> prefix.
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- Controller: public function delete(int $id) --&gt;
&lt;button fw:click="delete" fw:param-id="123"&gt;Delete Post&lt;/button&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Security -->
                    <section id="security" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Security: The Sandbox</h2>
                        <p class="text-gray-600 mb-4">
                            ForgeWire operates on a "deny-by-default" principle:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Checksum signing:</strong> All state sent to the browser is HMAC-signed with
                                your <code class="bg-gray-100 px-2 py-1 rounded">APP_KEY</code>. If a user modifies the
                                state in the console, the server rejects the request.</li>
                            <li><strong>Method Whitelisting:</strong> Only <code
                                    class="bg-gray-100 px-2 py-1 rounded">#[Action]</code> methods can be invoked. Even
                                protected/private methods are strictly blocked.</li>
                            <li><strong>Fingerprinting:</strong> ForgeWire tracks the controller class and current URL
                                path to prevent "component injection" or cross-page state reuse.</li>
                        </ul>
                    </section>
                    <section id="actions" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Actions & Methods</h2>
                        <h3 class="text-lg font-semibold mb-3">The #[Action] Attribute</h3>
                        <p class="text-gray-600 mb-4">
                            Applied to methods. Marks the method as "safe" to be called from the browser. ForgeWire will
                            refuse to call any method not explicitly marked as an action.
                        </p>
                        <p class="text-gray-600 mb-4">
                            The <code class="bg-gray-100 px-2 py-1 rounded">input()</code> action is built-in and
                            handles
                            <code>fw:model</code> updates:
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">// Automatically called for fw:model
#[Action]
public function input(...$keys): void
{
    // Called when fw:model values change
    // $keys contains which properties changed
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Calling Actions from Frontend</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- fw:click --&gt;
&lt;button fw:click="increment"&gt;+&lt;/button&gt;
&lt;button fw:click="update" fw:param-id="5" fw:param-name="New Name"&gt;Update&lt;/button&gt;

&lt;!-- fw:submit --&gt;
&lt;form fw:submit="save"&gt;
    &lt;input fw:model="name" type="text"&gt;
    &lt;button type="submit"&gt;Save&lt;/button&gt;
&lt;/form&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Computed Properties -->
                    <section id="computed" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Computed Properties</h2>
                        <p class="text-gray-600 mb-6">
                            Use #[Computed] for derived values that are cached.
                        </p>

                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Computed]
public function parity(): string
{
    return $this->count % 2 ? 'odd' : 'even';
}

public function render(): string
{
    return raw($this->view('wire/counter', [
        'count' => $this->count,
        'parity' => $this->parity(), // Cached
    ]));
}</code></pre>
                        </div>
                    </section>

                    <!-- Validation -->
                    <section id="validation" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Validation</h2>
                        <p class="text-gray-600 mb-6">
                            Add validation rules to properties using #[Validate] attribute. Validation supports both array and JSON message formats for backward compatibility.
                        </p>

                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[State]
#[Validate('required|min:3', messages: ['required' => 'Name is required', 'min' => 'Name must be at least :value characters'])]
public string $formName = '';

#[State]
#[Validate('required|email', messages: ['required' => 'Email is required', 'email' => 'Please enter a valid email address'])]
public string $formEmail = '';</code></pre>
                        </div>
                        
                        <h3 class="text-lg font-semibold mb-3">Validation Features</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Automatic Validation:</strong> Runs when properties marked with #[Validate] are updated</li>
                            <li><strong>Custom Messages:</strong> Provide user-friendly error messages for each rule</li>
                            <li><strong>Parameter Replacement:</strong> Use <code class="bg-gray-100 px-2 py-1 rounded">:value</code> placeholders in messages</li>
                            <li><strong>Form Submission:</strong> Use <code class="bg-gray-100 px-2 py-1 rounded">#[Action(submit: true)]</code> for form handling</li>
                        </ul>
                        
                        <p class="text-gray-600 mb-4">
                            Validation runs automatically when dirty state includes the property.
                        </p>
                    </section>

                    <section id="frontend" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Frontend Integration</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire's JavaScript client handles all frontend interactions automatically.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Directives Reference</h3>
                        
                        <h4 class="text-md font-semibold mb-2">Event Handling</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:click="save"</code> — Call action on
                                click (use <code>fw:param-*</code> for arguments)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:submit="save"</code> — Form
                                submission (auto-prevents refresh)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:keydown.enter="submit"</code> — Call action on Enter key</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:keydown.escape="cancel"</code> — Call action on Escape key</li>
                        </ul>
                        
                        <h4 class="text-md font-semibold mb-2">Data Binding</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model="property"</code> — Two-way
                                binding (immediate)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.lazy</code> — Update on
                                blur/change</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce</code> — Debounced
                                updates (600ms default)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:model.debounce.300ms</code> — Custom
                                debounce time</li>
                        </ul>
                        
                        <h4 class="text-md font-semibold mb-2">Polling & Updates</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:poll</code> — Auto-refresh every 2
                                seconds</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:poll.5s</code> — Custom poll interval</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:poll.3s fw:action="onPoll"</code> — Custom action on poll</li>
                        </ul>
                        
                        <h4 class="text-md font-semibold mb-2">Island Management</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:id("name")</code> — PHP helper to create unique island identifier</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:target</code> — Marks element for partial updates (performance optimization)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:loading</code> — Shows content during action processing</li>
                        </ul>
                        
                        <h4 class="text-md font-semibold mb-2">Shared State</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:shared</code> — Container for shared state groups</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:depends="prop1,prop2"</code> — Opt-in to shared state dependencies</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:validation-error="fieldName"</code> — Display validation errors</li>
                        </ul>
                        
                        <h4 class="text-md font-semibold mb-2">Arguments & Parameters</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:param-id="123"</code> — Pass parameters to actions</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:param-name="value"</code> — String parameters</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:param-count="5"</code> — Numeric parameters</li>
                        </ul>
                        
                        <h3 class="text-lg font-semibold mb-3">Island Management</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:id("name")</code> — PHP helper to create unique island identifier</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:target</code> — Marks element for partial updates (performance optimization)</li>
                            <li><code class="bg-gray-100 px-2 py-1 rounded">fw:loading</code> — Shows content during action processing</li>
                        </ul>
                        
                        <h3 class="text-lg font-semibold mb-3">Advanced Directives</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;!-- Multiple islands on same page --&gt;
&lt;div &lt;?= fw_id('counter-1') ?&gt;&gt;
    &lt;button fw:click="increment"&gt;+1&lt;/button&gt;
    &lt;div fw:target&gt;Count: &lt;?= $count ?&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div &lt;?= fw_id('search-box') ?&gt;&gt;
    &lt;input fw:model.debounce="query" placeholder="Search..."&gt;
    &lt;div fw:loading&gt;Searching...&lt;/div&gt;
    &lt;div fw:target&gt;&lt;?= $results ?&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Example HTML</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div fw:id="fw-0b4c5e3d9e83" &gt;
    &lt;div class="counter"&gt;
        &lt;button fw:click="decrement"&gt;–&lt;/button&gt;
        &lt;span&gt;2 (even)&lt;/span&gt;
        &lt;button fw:click="increment"&gt;+&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Polling with IntersectionObserver</h3>
                        <p class="text-gray-600 mb-4">
                            Components only poll when visible on screen (performance optimization):
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div fw:id="..." fw:poll.5s&gt;
    &lt;!-- Only polls when visible --&gt;
&lt;/div&gt;</code></pre>
                        </div>
                    </section>

                    <!-- ForgeWire Architecture -->
                    <section id="architecture-features" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">ForgeWire Architecture & Unique Features</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire is fundamentally different from other reactive frameworks. It's not Livewire - it's a unique system built specifically for Forge's architecture.
                        </p>
                        
                        <h3 class="text-lg font-semibold mb-3">Core Principles</h3>
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h4 class="font-semibold text-lg mb-3">Standard Controllers</h4>
                                <p class="text-sm text-gray-600 mb-2">No separate component classes needed - any controller can become reactive</p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Apply #[Reactive] to any controller</li>
                                    <li>• Use existing Forge patterns</li>
                                    <li>• No framework lock-in</li>
                                </ul>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h4 class="font-semibold text-lg mb-3">Island Architecture</h4>
                                <p class="text-sm text-gray-600 mb-2">Multiple reactive areas per page with independent state</p>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>• Multiple islands per page</li>
                                    <li>• Shared state between islands</li>
                                    <li>• Partial updates with fw:target</li>
                                </ul>
                            </div>
                        </div>
                        
                        <h3 class="text-lg font-semibold mb-3">CLI Tools & Generation</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-bash"># Generate new ForgeWire island
forgewire:island --type=app --name=interactive-counter --kind=component

# Generate for module
forgewire:island --type=module --module=ForgeEvents --name=queue-dashboard --kind=page

# Interactive wizard
forgewire:island</code></pre>
                        </div>
                        
                        <h3 class="text-lg font-semibold mb-3">ReactiveControllerHelper Trait</h3>
                        <p class="text-gray-600 mb-4">
                            Use this trait for enhanced reactive functionality:
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">use ReactiveControllerHelper;

// Available methods
public function redirect(string $url, int $delay = 0): void
public function flash(string $type, string $message): void  
public function dispatch(string $event, array $data = []): void
public function isWireRequest(Request $request): bool
public function isReactive(): bool</code></pre>
                        </div>
                    </section>

                    <!-- Wire Protocol -->
                    <section id="wire-protocol" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Wire Protocol</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire uses a JSON-based protocol for client-server communication with advanced features like shared state updates.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Request Format</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-json">{
  "id": "fw-0b4c5e3d9e83",
  "controller": "App\\Controllers\\ForgeWireExamplesController",
  "action": "incrementShared",
  "args": [],
  "dirty": {},
  "depends": ["counter"],
  "checksum": "632b5d500042bb4361657ea9f2991132d8a18208d0e38bf6a801f127f48f4e8c",
  "fingerprint": {
    "path": "/forge-wire-examples"
  }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Response Format</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-json">{
  "html": "&lt;div fw:id=\"fw-0b4c5e3d9e83\"...&gt;...&lt;/div&gt;",
  "state": {},
  "checksum": "632b5d500042bb4361657ea9f2991132d8a18208d0e38bf6a801f127f48f4e8c",
  "events": [{"name": "counterUpdated", "data": {"value": 5}}],
  "redirect": null,
  "flash": [{"type": "success", "message": "Counter updated"}],
  "updates": [
    {
      "id": "fw-secondary-island",
      "html": "&lt;div fw:id=\"fw-secondary-island\"&gt;Updated content&lt;/div&gt;",
      "state": {},
      "checksum": "abc123..."
    }
  ]
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Advanced Protocol Features</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Shared State Updates:</strong> Multiple islands can update simultaneously when shared state changes</li>
                            <li><strong>Partial Updates:</strong> <code class="bg-gray-100 px-2 py-1 rounded">updates</code> array contains HTML for affected islands</li>
                            <li><strong>Event Dispatching:</strong> Client-side events can be triggered from server</li>
                            <li><strong>Flash Messages:</strong> Session-based flash messages for user feedback</li>
                            <li><strong>Redirect Support:</strong> Server-initiated redirects with optional delays</li>
                        </ul>
                    </section>

                    <!-- Performance -->
                    <section id="performance" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Performance Optimizations</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire includes several performance optimizations for production use.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Targeted Updates with fw:target</h3>
                        <p class="text-gray-600 mb-4">
                            Instead of re-rendering entire islands, use <code class="bg-gray-100 px-2 py-1 rounded">fw:target</code> for partial updates:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Only the marked element gets updated on server response</li>
                            <li>Dramatically reduces HTML payload size</li>
                            <li>Perfect for counters, status messages, progress indicators</li>
                        </ul>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div &lt;?= fw_id('counter') ?&gt;&gt;
    &lt;button fw:click="increment"&gt;+&lt;/button&gt;
    &lt;!-- Only this div updates --&gt;
    &lt;div fw:target&gt;Count: &lt;?= $count ?&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Loading States</h3>
                        <p class="text-gray-600 mb-4">
                            Show loading indicators during long-running actions using <code class="bg-gray-100 px-2 py-1 rounded">fw:loading</code>:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Automatically shows during action execution</li>
                            <li>Hidden when action completes</li>
                            <li>Provides immediate user feedback</li>
                        </ul>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-html">&lt;div &lt;?= fw_id('uploader') ?&gt;&gt;
    &lt;button fw:click="upload"&gt;Upload File&lt;/button&gt;
    
    &lt;div fw:loading class="loading-spinner"&gt;
        Processing... Please wait
    &lt;/div&gt;
    
    &lt;div fw:target&gt;&lt;?= $status ?&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Recipe Caching</h3>
                        <p class="text-gray-600 mb-4">
                            Component recipes are built once per class and cached in memory:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>No repeated reflection on every request</li>
                            <li>Recipe defines hydration/dehydration strategy</li>
                            <li>Cached in static array: <code
                                    class="bg-gray-100 px-2 py-1 rounded">self::$recipe[$class]</code></li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">IntersectionObserver Polling</h3>
                        <p class="text-gray-600 mb-4">
                            Components only poll when visible on screen:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Uses browser IntersectionObserver API</li>
                            <li>Stops polling when component is off-screen</li>
                            <li>Resumes automatically when visible again</li>
                            <li>Saves server resources</li>
                        </ul>

                        <h3 class="text-lg font-semibold mb-3">Request Prioritization</h3>
                        <p class="text-gray-600 mb-4">
                            Input events have lower priority than actions:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li>Actions (priority 2) can cancel input requests (priority 1)</li>
                            <li>Prevents race conditions</li>
                            <li>Ensures actions execute first</li>
                        </ul>
                    </section>

                    <!-- Differences from Livewire -->
                    <section id="vs-livewire" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Differences from Livewire</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire takes a different approach than Laravel Livewire in several key areas.
                        </p>

                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Security</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Explicit attributes
                                    required (#[State], #[Action])</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> All public properties
                                    accessible</p>
                                <p class="text-xs text-gray-500">ForgeWire is secure by default</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Complex Data</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Native DTO/Model
                                    support</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Serialization-based</p>
                                <p class="text-xs text-gray-500">ForgeWire handles complex objects natively</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">State Storage</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Session-based with
                                    references</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Full serialization</p>
                                <p class="text-xs text-gray-500">ForgeWire is more efficient</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Performance</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Recipe caching, lazy
                                    loading</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Reflection on every
                                    request</p>
                                <p class="text-xs text-gray-500">ForgeWire caches component recipes</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Protocol</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Custom JSON protocol
                                </p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Different format</p>
                                <p class="text-xs text-gray-500">Optimized for Forge's architecture</p>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3">Checksum</h3>
                                <p class="text-sm text-gray-600 mb-2"><strong>ForgeWire:</strong> Built-in tamper
                                    detection</p>
                                <p class="text-sm text-gray-600 mb-2"><strong>Livewire:</strong> Different verification
                                </p>
                                <p class="text-xs text-gray-500">ForgeWire verifies every request</p>
                            </div>
                        </div>
                    </section>

                    <!-- Usage Examples -->
                    <section id="examples" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Usage Examples</h2>
                        <p class="text-gray-600 mb-6">
                            Complete examples of ForgeWire components based on real implementations.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Comprehensive Example Controller</h3>
                        <p class="text-gray-600 mb-4">Based on ForgeWireExamplesController - shows all major features:</p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Middleware("web")]
#[Reactive]
final class ForgeWireExamplesController
{
    use ControllerHelper;

    #[State]
    public int $pollCount = 0;

    #[State]
    public int $counter = 0;

    #[State(shared: true)]
    public int $sharedCounter = 0;

    #[State]
    public string $immediateValue = '';

    #[State]
    public string $lazyValue = '';

    #[State]
    public string $debounceValue = '';

    #[State]
    #[Validate('required|min:3', messages: ['required' => 'Name is required', 'min' => 'Name must be at least :value characters'])]
    public string $formName = '';

    #[State]
    #[Validate('required|email', messages: ['required' => 'Email is required', 'email' => 'Please enter a valid email address'])]
    public string $formEmail = '';

    #[Action]
    public function onPoll(): void
    {
        $this->pollCount++;
    }

    #[Action]
    public function increment(): void
    {
        $this->counter += $this->step;
    }

    #[Action(submit: true)]
    public function saveForm(): void
    {
        $this->formMessage = 'Form saved successfully at ' . date('H:i:s');
    }

    #[Action]
    public function handleEnter(): void
    {
        $this->lastKey = 'Enter pressed at ' . date('H:i:s');
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Complex Reactive Controller - Queue Management</h3>
                        <p class="text-gray-600 mb-4">Real-world example from ForgeEvents module showing advanced patterns:</p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">#[Reactive]
#[Middleware('web')]
#[Middleware('auth')]
final class QueueController
{
    use ControllerHelper;
    use ReactiveControllerHelper;

    #[State(shared: true)]
    public array $jobs = [];

    #[State]
    public string $statusFilter = '';

    #[State]
    public string $queueFilter = '';

    #[State]
    public string $search = '';

    #[State]
    public int $currentPage = 1;

    #[State]
    public array $selectedJobs = [];

    #[State]
    public bool $showJobModal = false;

    public function __construct(
        private readonly QueueHubService $queueService
    ) {}

    #[Route("/hub/queues")]
    public function index(): Response
    {
        $this->loadJobs();
        $this->loadStats();

        return $this->view("pages/hub/queues", [
            'jobs' => $this->jobs,
            'selectedJobs' => $this->selectedJobs,
            'filters' => [
                'status' => $this->statusFilter,
                'queue' => $this->queueFilter,
                'search' => $this->search,
            ],
        ]);
    }

    #[Action]
    public function filterJobs(string $status, string $queue): void
    {
        $this->statusFilter = $status;
        $this->queueFilter = $queue;
        $this->currentPage = 1;
        $this->loadJobs();
    }

    #[Action]
    public function selectJob(int $jobId): void
    {
        $this->selectedJobs[] = $jobId;
    }

    #[Action]
    public function bulkDelete(): void
    {
        foreach ($this->selectedJobs as $jobId) {
            $this->queueService->deleteJob($jobId);
        }
        $this->selectedJobs = [];
        $this->loadJobs();
    }

    private function loadJobs(): void
    {
        $filters = [
            'status' => $this->statusFilter,
            'queue' => $this->queueFilter,
            'search' => $this->search,
        ];

        $this->paginator = $this->queueService->getJobs(
            $filters,
            $this->sortColumn,
            $this->sortDirection,
            $this->currentPage,
            $this->perPage
        );

        $this->jobs = $this->paginator->items();
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Multi-Island View Architecture</h3>
                        <p class="text-gray-600 mb-4">Example showing multiple islands on one page with shared state:</p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">&lt;!-- Shared State Demo --&gt;
&lt;section class="p-6"&gt;
    &lt;p&gt;These islands share counter state using #[State(shared: true)]&lt;/p&gt;
    
    &lt;div class="grid grid-cols-2 gap-4"&gt;
        &lt;!-- Island 1 --&gt;
        &lt;div &lt;?= fw_id('shared-counter-1') ?&gt; class="p-6 bg-gray-50 rounded-lg"&gt;
            &lt;h3&gt;Island 1&lt;/h3&gt;
            &lt;div class="flex gap-2 mb-4"&gt;
                &lt;button fw:click="incrementShared"&gt;+&lt;/button&gt;
                &lt;button fw:click="decrementShared"&gt;-&lt;/button&gt;
            &lt;/div&gt;
            &lt;div fw:target class="text-center"&gt;
                &lt;p&gt;Shared Counter&lt;/p&gt;
                &lt;p class="text-3xl font-bold"&gt;&lt;?= $sharedCounter ?&gt;&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Island 2 --&gt;
        &lt;div &lt;?= fw_id('shared-counter-2') ?&gt; class="p-6 bg-gray-50 rounded-lg"&gt;
            &lt;h3&gt;Island 2&lt;/h3&gt;
            &lt;div class="flex gap-2 mb-4"&gt;
                &lt;button fw:click="incrementShared"&gt;+&lt;/button&gt;
                &lt;button fw:click="decrementShared"&gt;-&lt;/button&gt;
            &lt;/div&gt;
            &lt;div fw:target class="text-center"&gt;
                &lt;p&gt;Shared Counter&lt;/p&gt;
                &lt;p class="text-3xl font-bold"&gt;&lt;?= $sharedCounter ?&gt;&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/section&gt;</code></pre>
                        </div>
                    </section>

                    <!-- CLI Commands -->
                    <section id="cli-commands" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">CLI Commands & Tools</h2>
                        <p class="text-gray-600 mb-6">
                            ForgeWire includes powerful CLI tools for rapid development.
                        </p>

                        <h3 class="text-lg font-semibold mb-3">Generate Islands</h3>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-bash"># Interactive wizard
forgewire:island

# Direct generation
forgewire:island --type=app --name=interactive-counter --kind=component
forgewire:island --type=app --name=admin/dashboard --kind=page
forgewire:island --type=module --module=ForgeEvents --name=queue-stats --kind=component</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Generated Structure</h3>
                        <p class="text-gray-600 mb-4">
                            The CLI generates complete reactive controller and view templates with proper attributes already in place:
                        </p>
                        <div class="code-block p-6 text-white rounded-lg mb-6">
                            <pre><code class="language-php">// Generated Controller
#[Middleware("web")]
#[Reactive]
final class InteractiveCounterController
{
    use ControllerHelper;
    use ReactiveControllerHelper;

    #[State]
    public int $count = 0;

    #[Route("/interactive-counter")]
    public function index(): Response
    {
        return $this->view("pages/interactive-counter", [
            'count' => $this->count,
        ]);
    }

    #[Action]
    public function increment(): void
    {
        $this->count++;
    }
}</code></pre>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Setup Guide</h3>
                        <p class="text-gray-600 mb-4">
                            The CLI provides comprehensive setup guidance:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Reactive Setup:</strong> How to add #[Reactive] and why it's required</li>
                            <li><strong>Action Exposure:</strong> How to use #[Action] to expose methods to browser</li>
                            <li><strong>Data Binding:</strong> How to use #[State] for two-way binding</li>
                            <li><strong>Visibility Rules:</strong> Understanding public vs private properties</li>
                        </ul>
                    </section>

                    <!-- Best Practices -->
                    <section id="best-practices" class="section-anchor mb-12">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">Best Practices & Patterns</h2>
                        <p class="text-gray-600 mb-6">
                            Production-ready patterns and recommendations for ForgeWire development.
                        </p>

                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3 text-green-600">Recommended Patterns</h3>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li>• Use #[State] for simple scalar/array values</li>
                                    <li>• Keep islands focused and single-purpose</li>
                                    <li>• Use #[Computed] for derived values</li>
                                    <li>• Leverage fw:model.debounce for search inputs</li>
                                    <li>• Use fw:target for performance optimization</li>
                                    <li>• Always use fw:depends with shared state</li>
                                    <li>• Use ReactiveControllerHelper trait</li>
                                    <li>• Validate all user input with #[Validate]</li>
                                    <li>• Use CLI generators for consistent structure</li>
                                </ul>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-6">
                                <h3 class="font-semibold text-lg mb-3 text-orange-600">Common Pitfalls</h3>
                                <ul class="space-y-2 text-sm text-gray-600">
                                    <li>• Don't forget fw:depends for shared state</li>
                                    <li>• Don't expose sensitive data without attributes</li>
                                    <li>• Don't use complex objects with #[State]</li>
                                    <li>• Don't forget #[Action] on callable methods</li>
                                    <li>• Don't poll too frequently (performance impact)</li>
                                    <li>• Don't store large amounts of state in session</li>
                                    <li>• Don't mix reactive and non-reactive controllers</li>
                                    <li>• Don't skip validation for user input</li>
                                    <li>• Don't ignore security implications of shared state</li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="text-lg font-semibold mb-3">Performance Optimization</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
                            <li><strong>Targeted Updates:</strong> Use fw:target to update only changed elements</li>
                            <li><strong>Lazy Loading:</strong> Use fw:model.lazy for non-critical inputs</li>
                            <li><strong>Debouncing:</strong> Use fw:model.debounce for search/filter inputs</li>
                            <li><strong>Polling Wisely:</strong> Use intersection observer for visibility-based polling</li>
                            <li><strong>Shared State:</strong> Use fw:depends to avoid unnecessary re-renders</li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-4">
                <span class="text-lg font-bold">Forge Kernel</span>
            </div>
            <p class="text-gray-400">
                A toolbox for builders who like to do things their way.
            </p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', function () {
                mobileMenu.classList.toggle('hidden');
            });
        }

        window.addEventListener('scroll', function () {
            const sections = document.querySelectorAll('.section-anchor');
            const navLinks = document.querySelectorAll('.nav-link');
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.pageYOffset >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>