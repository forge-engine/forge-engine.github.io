<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started - Forge Kernel Documentation</title>
    <link rel="stylesheet" href="assets/css/forge-docs.css">
</head>
<body>
    <div class="docs-container">
        <aside class="sidebar">
            <nav>
                <ul class="sidebar-nav">
                    <li class="sidebar-nav-group">
                        <div class="sidebar-nav-group-title">Navigation</div>
                        <ul class="sidebar-nav" style="list-style: none; padding-left: 0;">
                            <li class="sidebar-nav-item">
                                <a href="index.html" class="sidebar-nav-link">Home</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="introduction.html" class="sidebar-nav-link">Introduction</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="getting-started.html" class="sidebar-nav-link active">Getting Started</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="core-concepts.html" class="sidebar-nav-link">Core Concepts</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="modules.html" class="sidebar-nav-link">Capabilities</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="api-reference.html" class="sidebar-nav-link">API Reference</a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-nav-group">
                        <div class="sidebar-nav-group-title">On This Page</div>
                        <ul class="sidebar-nav" style="list-style: none; padding-left: 0;">
                            <li class="sidebar-nav-item">
                                <a href="#requirements" class="sidebar-nav-link">Requirements</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#installation" class="sidebar-nav-link">Installation</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#configuration" class="sidebar-nav-link">Configuration</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#first-controller" class="sidebar-nav-link">First Controller</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#services" class="sidebar-nav-link">Services & DI</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#routing" class="sidebar-nav-link">Routing</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#views-templates" class="sidebar-nav-link">Views & Templates</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#database" class="sidebar-nav-link">Database & ORM</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#developer-mode" class="sidebar-nav-link">Developer Mode</a>
                            </li>
                            <li class="sidebar-nav-item">
                                <a href="#cli-commands" class="sidebar-nav-link">CLI Commands</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </aside>

        <button class="mobile-menu-toggle" aria-label="Toggle menu">☰</button>
        <div class="mobile-overlay"></div>

        <main class="main-content">
            <article>
                <header class="docs-header">
                    <h1>Getting Started with Forge</h1>
                    <p>This guide will help you get Forge up and running. It's pretty straightforward.</p>
                </header>

                <section id="requirements">
                    <h2>Requirements</h2>
                    <ul>
                        <li>PHP 8.2 or higher</li>
                        <li>Web server (Apache, Nginx, or PHP CLI built-in server)</li>
                        <li>SQLite, MySQL, or PostgreSQL (optional, install via database capability if needed)</li>
                    </ul>
                    <p>
                        <strong>Note:</strong> Forge doesn't require Composer. The kernel is dependency-free. Database and ORM are capabilities you install when needed, not built-in requirements.
                    </p>
                </section>

                <section id="installation">
                    <h2>Installation</h2>
                    <p>A few ways to get Forge running.</p>

                    <div class="code-block">
                        <pre><code># Quick install with one command
bash &lt;(curl -Ls https://raw.githubusercontent.com/forge-engine/installer/main/installer.sh)</code></pre>
                    </div>

                    <p>
                        That's it! This command will clone the starter project, set up the folder structure, and give you a working Forge app you can run immediately.
                    </p>

                    <h3>Manual Installation</h3>
                    <p>If you prefer to set things up manually:</p>
                    
                    <div class="code-block">
                        <pre><code>git clone https://github.com/forge-engine/forge-starter
cd forge-starter
cp env-example .env
php install.php
php forge.php key:generate
php forge.php package:install-project</code></pre>
                    </div>
                </section>

                <section id="configuration">
                    <h2>Configuration</h2>
                    <p>
                        Forge uses environment variables for configuration. Edit your <code>.env</code> file:
                    </p>

                    <div class="code-block">
                        <pre><code># Application Settings
APP_NAME="My Forge App"
APP_ENV=development
APP_DEBUG=true
APP_KEY=your-generated-key
FORGE_DEVELOPER_MODE=false

# Database Configuration (only if you've installed a database capability)
DB_DRIVER=sqlite
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=forge_app
DB_USER=root
DB_PASS=password
SQLITE_PATH=/storage/database
SQLITE_DB=/database.sqlite

# Cache Configuration
CACHE_DRIVER=file

# Session Configuration
SESSION_DRIVER=file
SESSION_LIFETIME=1440</code></pre>
                    </div>

                    <p>
                        Start the development server to test your installation:
                    </p>

                    <div class="code-block">
                        <pre><code>php forge.php serve</code></pre>
                    </div>

                    <p>
                        Visit <code>http://localhost:8000</code> to see your application running!
                    </p>
                </section>

                <section id="first-controller">
                    <h2>Creating Your First Controller</h2>
                    <p>
                        Let's create a simple controller to handle HTTP requests:
                    </p>

                    <div class="code-block">
                        <pre><code># Generate a new controller
php forge.php generate:controller WelcomeController</code></pre>
                    </div>

                    <p>
                        This creates a controller in <code>app/Controllers/WelcomeController.php</code>:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;?php

declare(strict_types=1);

namespace App\Controllers;

use Forge\Core\DI\Attributes\Service;
use Forge\Core\Http\Attributes\Middleware;
use Forge\Core\Http\Response;
use Forge\Core\Routing\Route;
use Forge\Core\Http\Request;
use Forge\Traits\ControllerHelper;

#[Service]
#[Middleware('web')]
final class WelcomeController
{
    use ControllerHelper;

    #[Route("/welcome")]
    public function index(Request $request): Response
    {
        $data = [
            "title" => "Welcome to Forge",
            "message" => "Hello from your first controller!"
        ];

        return $this->view(view: "pages/welcome/index", data: $data);
    }
}</code></pre>
                    </div>
                </section>

                <section id="services">
                    <h2>Services & Dependency Injection</h2>
                    <p>
                        Forge uses attributes for dependency injection. Services are just PHP classes with the <code>#[Service]</code> attribute.
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;?php
namespace App\Services;

use Forge\Core\DI\Attributes\Service;

#[Service]
class UserService
{
    public function findUser(int $id)
    {
        // Your logic here
        // Note: This example assumes you have a User model from an ORM capability
        // return User::query()->id($id)->first();
    }
}</code></pre>
                    </div>

                    <p>
                        Use services in controllers by adding them to the constructor:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;?php
namespace App\Controllers;

use App\Services\UserService;
use Forge\Core\DI\Attributes\Service;
use Forge\Core\Http\Response;
use Forge\Core\Routing\Route;

#[Service]
class UserController
{
    public function __construct(
        private readonly UserService $userService
    ) {}

    #[Route('/users/{id}')]
    public function show(string $id): Response
    {
        $user = $this->userService->findUser((int)$id);
        return $this->view('users/show', ['user' => $user]);
    }
}</code></pre>
                    </div>

                    <p>
                        <strong>Note:</strong> Services are automatically resolved by the container. Just add them to your constructor and they'll be injected.
                    </p>
                </section>

                <section id="routing">
                    <h2>Routing</h2>
                    <p>
                        Forge uses attribute-based routing. Define routes directly on your controller methods:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;?php
#[Route("/")]
public function home(): Response
{
    return $this->view("pages/home");
}

#[Route("/users/{id}")]
public function showUser(Request $request, int $id): Response
{
    return $this->json(["user_id" => $id]);
}

#[Route("/api/posts", method: "POST")]
public function createPost(Request $request): Response
{
    // Handle POST request
    return $this->json(["status" => "created"]);
}

// Using Middleware attribute on controller/method (recommended)
use Forge\Core\Http\Attributes\Middleware;

#[Middleware("web")]
class WebController
{
    #[Middleware("auth")]
    #[Route("/profile")]
    public function profile(): Response
    {
        return $this->view("profile/index");
    }
}</code></pre>
                    </div>

                    <p>
                        <strong>Note:</strong> The <code>method</code> parameter accepts a single HTTP method as a string (e.g., "GET", "POST", "PUT", "DELETE"), not an array.
                    </p>

                    <p>
                        Routes are automatically discovered from your controllers. No need for separate route files! Use <code>#[Middleware]</code> attribute for cleaner middleware application on controllers/methods.
                    </p>
                </section>

                <section id="views-templates">
                    <h2>Views & Templates</h2>
                    <p>
                        Forge uses PHP-first templating. Create views in <code>app/resources/views/</code>:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;!-- app/resources/views/pages/welcome/index.php --&gt;
&lt;?php
use Forge\Core\View\View;

View::layout(name: "layouts/app", loadFromModule: false);
?&gt;

&lt;div class="container mx-auto px-4 py-8"&gt;
    &lt;h1 class="text-4xl font-bold text-gray-900 mb-4"&gt;
        &lt;?= $title ?&gt;
    &lt;/h1&gt;
    &lt;p class="text-xl text-gray-600"&gt;
        &lt;?= $message ?&gt;
    &lt;/p&gt;
&lt;/div&gt;</code></pre>
                    </div>

                    <p>
                        Create a layout file:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;My Forge App&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;?php
    use Forge\Core\View\View;
    echo View::section('content');
    ?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>
                </section>

                <section id="database">
                    <h2>Database & ORM (Capabilities)</h2>
                    <p>
                        Database and ORM are not built into the kernel. They're capabilities you install when you need them.
                    </p>
                    <p>
                        Install a database capability first:
                    </p>

                    <div class="code-block">
                        <pre><code># Install a database capability
php forge.php package:install-module ForgeDatabaseSQL

# Or install an ORM capability
php forge.php package:install-module ForgeSqlOrm</code></pre>
                    </div>

                    <p>
                        Once installed, you can create migrations and models:
                    </p>

                    <div class="code-block">
                        <pre><code># Create a migration
php forge.php generate:migration CreateUsersTable

# Run migrations
php forge.php db:migrate</code></pre>
                    </div>

                    <p>
                        <strong>Note:</strong> Database and ORM functionality requires installing the appropriate capability module first. The kernel doesn't include these by default.
                    </p>
                </section>

                <section id="developer-mode">
                    <h2>Developer Mode</h2>
                    <p>
                        Developer mode unlocks advanced CLI commands for working with registries and publishing kernel/capability versions. You only need this if you're building your own kernel or publishing capabilities.
                    </p>

                    <h3>Enabling Developer Mode</h3>
                    <p>
                        Set <code>FORGE_DEVELOPER_MODE=true</code> in your <code>.env</code> file:
                    </p>

                    <div class="code-block">
                        <pre><code>FORGE_DEVELOPER_MODE=true</code></pre>
                    </div>

                    <p>
                        Or set it in <code>config/app.php</code>:
                    </p>

                    <div class="code-block">
                        <pre><code>&lt;?php
return [
    'developer_mode' => true,
    // ... other config
];</code></pre>
                    </div>

                    <h3>Commands Unlocked</h3>
                    <p>
                        When developer mode is enabled, these commands become available:
                    </p>

                    <div class="code-block">
                        <pre><code># Framework/Kernel registry commands
php forge.php dev:framework:list          # List available kernel versions
php forge.php dev:framework:publish        # Publish kernel registry changes
php forge.php dev:framework:version        # Create new kernel version

# Module/Capability registry commands
php forge.php dev:module:list              # List available capability versions
php forge.php dev:module:publish           # Publish capability registry changes
php forge.php dev:module:version           # Create new capability version

# Registry management
php forge.php dev:registry:config          # Configure registry settings
php forge.php dev:registry:init             # Initialize new registry</code></pre>
                    </div>

                    <p>
                        <strong>When to enable:</strong> Only enable developer mode if you're building your own kernel fork or publishing capabilities to registries. For regular application development, you don't need it.
                    </p>
                </section>

                <section id="cli-commands">
                    <h2>CLI Commands</h2>
                    <p>
                        Some commands to help you work:
                    </p>

                    <div class="code-block">
                        <pre><code># Generate files
php forge.php generate:controller UserController
php forge.php generate:middleware AuthMiddleware
php forge.php generate:migration CreatePostsTable
php forge.php generate:module BlogModule

# Database operations
php forge.php db:migrate
php forge.php db:migrate:rollback

# Development server
php forge.php serve

# Cache management
php forge.php cache:clear

# Application maintenance
php forge.php down
php forge.php up

# Generate application key
php forge.php key:generate

# Package management (ForgePackageManager)
php forge.php package:install-module ForgeAuth
php forge.php package:install-module ForgeAuth@1.2.0
php forge.php package:remove-module ForgeAuth
php forge.php package:list-modules</code></pre>
                    </div>

                    <p>
                        Run <code>php forge.php help</code> to see all available commands.
                    </p>
                </section>

                <section id="next-steps">
                    <h2>Next Steps</h2>
                    <p>
                        What you might want to look at next:
                    </p>

                    <ul>
                        <li><strong><a href="core-concepts.html">Core Concepts</a></strong> — How dependency injection, middleware, and the module system work.</li>
                        <li><strong><a href="modules.html">Capabilities</a></strong> — Available capabilities and how to make your own.</li>
                        <li><strong><a href="api-reference.html">API Reference</a></strong> — Complete API documentation for all kernel components.</li>
                    </ul>
                </section>
            </article>
        </main>
    </div>

    <script src="assets/js/docs.js"></script>
</body>
</html>
